import React, { useMemo, useEffect } from 'react';
import { createBleepsManager } from '@arwes/bleeps';
import { BleepsManagerContext } from '../internal/BleepsManagerContext.js';
const BleepsProvider = (props) => {
    const { master, common, categories, bleeps, children } = props;
    const bleepsManager = useMemo(() => createBleepsManager({ master, common, categories, bleeps }), []);
    useEffect(() => {
        bleepsManager?.update({ master, common, categories, bleeps });
    }, [master, common, categories, bleeps]);
    useEffect(() => {
        return () => {
            bleepsManager?.update({ common: { muted: true } });
            bleepsManager?.unload();
        };
    }, []);
    return (React.createElement(BleepsManagerContext.Provider, { value: bleepsManager }, children));
};
export { BleepsProvider };
