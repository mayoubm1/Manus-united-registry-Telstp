import { useRef, useEffect } from 'react';
import { createAnimatedElement } from '@arwes/animated';
import { useAnimator } from '@arwes/react-animator';
const useAnimated = (elementRef, animated, settings) => {
    const animator = useAnimator();
    const settingsRef = useRef({ animated: undefined });
    settingsRef.current = {
        ...settings,
        animated
    };
    useEffect(() => {
        const element = elementRef.current;
        if (!element || !animator) {
            return;
        }
        const animatedElement = createAnimatedElement({
            element,
            animator: animator.node,
            settingsRef
        });
        return () => animatedElement.cancel();
    }, [animator]);
};
export { useAnimated };
