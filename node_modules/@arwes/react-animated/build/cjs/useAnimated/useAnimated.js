"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useAnimated = void 0;
const react_1 = require("react");
const animated_1 = require("@arwes/animated");
const react_animator_1 = require("@arwes/react-animator");
const useAnimated = (elementRef, animated, settings) => {
    const animator = (0, react_animator_1.useAnimator)();
    const settingsRef = (0, react_1.useRef)({ animated: undefined });
    settingsRef.current = {
        ...settings,
        animated
    };
    (0, react_1.useEffect)(() => {
        const element = elementRef.current;
        if (!element || !animator) {
            return;
        }
        const animatedElement = (0, animated_1.createAnimatedElement)({
            element,
            animator: animator.node,
            settingsRef
        });
        return () => animatedElement.cancel();
    }, [animator]);
};
exports.useAnimated = useAnimated;
